<?xml version="1.0" encoding="utf-8"?>
<launch>
  <arg name="host" default="localhost" />
  <arg name="port" default="8888" />
  <arg name="gui" default="false" />
  <arg name="run_api" default="false" />
  <arg name="model" default="dino" />
  <arg name="DETECTION_INPUT_IMAGE" default="image" />

  <node name="detection_api" pkg="jsk_perception" type="run_jsk_vil_api" output="log"
        args="$(arg model) -p $(arg port)" if="$(arg run_api)" />

  <node name="detection" pkg="jsk_perception" type="detection_node.py" output="screen">
    <remap from="~image" to="$(arg DETECTION_INPUT_IMAGE)" />
    <rosparam subst_value="true">
      host: $(arg host)
      port: $(arg port)
      model: $(arg model)
    </rosparam>
  </node>

  <include file="$(find jsk_perception)/launch/ofa_gui.launch" if="$(arg gui)" />

</launch>
